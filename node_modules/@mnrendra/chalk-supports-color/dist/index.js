"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var T=require("node:tty"),b=require("node:os");const r=(e,o=globalThis.Deno?.args??process.argv)=>{const l=o.indexOf("--"+e),t=o.indexOf("--");return l!==-1&&(t===-1||l<t)},g=(e,{streamIsTTY:o,sniffFlags:l=!0}={})=>{const{FORCE_COLOR:t,TF_BUILD:p,AGENT_NAME:v,TERM:i,CI:I,TRAVIS:m,CIRCLECI:C,APPVEYOR:_,GITLAB_CI:h,BUILDKITE:E,DRONE:O,GITHUB_ACTIONS:R,GITEA_ACTIONS:A,CI_NAME:M,TEAMCITY_VERSION:c,COLORTERM:d,TERM_PROGRAM:f,TERM_PROGRAM_VERSION:N}=process.env;if(t==="true"||t==="")return 1;if(t==="false")return 0;const u=Math.min(parseInt(t??"",10),3);if(u===0||u===1||u===2||u===3)return u;if(l){if(r("no-color")||r("no-colors")||r("color=false")||r("color=never"))return 0;if(r("color")||r("colors")||r("color=true")||r("color=always"))return 1;if(r("color=256"))return 2;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3}if(p!==void 0&&v!==void 0)return 1;if(typeof e=="object"&&o!==!0||i==="dumb")return 0;if(process.platform==="win32"){const s=b.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if(I!==void 0)return R!==void 0||A!==void 0?3:[m,C,_,h,E,O].some(s=>s!==void 0)||M==="codeship"?1:0;if(c!==void 0)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(c)?1:0;if(d==="truecolor"||i==="xterm-kitty")return 3;if(f!==void 0){const s=parseInt((N??"").split(".")[0],10);switch(f){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i??"")?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i??"")||d!==void 0?1:0},x=e=>{if(!Number.isInteger(e)||![0,1,2,3].includes(e))throw new Error("The `level` value should be an integer from 0 to 3!");switch(e){case 0:return!1;case 1:return{level:1,hasBasic:!0,has256:!1,has16m:!1};case 2:return{level:2,hasBasic:!0,has256:!0,has16m:!1};case 3:return{level:3,hasBasic:!0,has256:!0,has16m:!0}}},n=(e,{streamIsTTY:o,sniffFlags:l=!0}={})=>{const t=g(e,{streamIsTTY:o??e.isTTY,sniffFlags:l});return x(t)},Y=()=>({stdout:n({isTTY:T.isatty(1)}),stderr:n({isTTY:T.isatty(2)})}),a=Y,w=a().stdout,y=a().stderr;var B=a();exports.createSupportsColor=n,exports.default=B,exports.stderr=y,exports.stdout=w,exports.supportsColor=a,module.exports=exports.default,Object.defineProperties(module.exports,{__esModule:{value:exports.__esModule},createSupportsColor:{value:exports.createSupportsColor},stderr:{value:exports.stderr},stdout:{value:exports.stdout},supportsColor:{value:exports.supportsColor},default:{value:exports.default}});
//# sourceMappingURL=index.js.map
