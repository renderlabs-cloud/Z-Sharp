{"version":3,"file":"browser.js","sources":["../src/utils/translateLevel.ts","../src/browser/utils/supportsLevel.ts","../src/browser/main.ts","../src/browser/index.ts"],"sourcesContent":["import type { ColorInfo, ColorSupportLevel } from '../types'\n\nconst translateLevel = (\n  level: ColorSupportLevel\n): ColorInfo => {\n  if (!Number.isInteger(level) || ![0, 1, 2, 3].includes(level)) {\n    throw new Error('The `level` value should be an integer from 0 to 3!')\n  }\n\n  switch (level) {\n    case 0:\n      return false\n    case 1:\n      return {\n        level: 1,\n        hasBasic: true,\n        has256: false,\n        has16m: false\n      }\n    case 2:\n      return {\n        level: 2,\n        hasBasic: true,\n        has256: true,\n        has16m: false\n      }\n    case 3:\n      return {\n        level: 3,\n        hasBasic: true,\n        has256: true,\n        has16m: true\n      }\n  }\n}\n\nexport default translateLevel\n","import type { ColorSupportLevel } from '../../types'\n\ntype GlobalThis = typeof globalThis & {\n  readonly navigator?: typeof navigator & {\n    readonly userAgentData?: {\n      readonly brands: Array<{\n        readonly brand: string\n        readonly version: string\n      }>\n    }\n  }\n}\n\nconst supportsLevel = (): ColorSupportLevel => {\n  const { navigator } = globalThis as GlobalThis\n\n  if (navigator === undefined) return 0\n\n  const { userAgentData, userAgent } = navigator\n\n  if (userAgentData !== undefined) {\n    const brand = userAgentData.brands.find(({ brand }) => brand === 'Chromium')\n\n    if (brand !== undefined && Number(brand.version) > 93) return 3\n  }\n\n  if (/\\b(Chrome|Chromium)\\//.test(userAgent)) return 1\n\n  return 0\n}\n\nexport default supportsLevel\n","import type { SupportsColor } from '../types'\n\nimport { translateLevel } from '../utils'\nimport { supportsLevel } from './utils'\n\nconst main = (): SupportsColor => {\n  const level = supportsLevel()\n\n  const colorSupport = translateLevel(level)\n\n  return {\n    stdout: colorSupport,\n    stderr: colorSupport\n  }\n}\n\nexport default main\n","import main from './main'\n\nconst supportsColor = main\n\nexport const stdout = supportsColor().stdout\nexport const stderr = supportsColor().stderr\n\nexport default supportsColor()\n"],"names":["translateLevel","level","supportsLevel","navigator","userAgentData","userAgent","brand","main","colorSupport","supportsColor","stdout","stderr","index"],"mappings":"oEAEA,MAAMA,EACJC,GACc,CACd,GAAI,CAAC,OAAO,UAAUA,CAAK,GAAK,CAAC,CAAC,EAAG,EAAG,EAAG,CAAC,EAAE,SAASA,CAAK,EAC1D,MAAM,IAAI,MAAM,qDAAqD,EAGvE,OAAQA,EACN,CAAA,OACE,MAAO,GACT,IAAK,GACH,MAAO,CACL,MAAO,EACP,SAAU,GACV,OAAQ,GACR,OAAQ,EACV,EACF,IACE,GAAA,MAAO,CACL,MAAO,EACP,SAAU,GACV,OAAQ,GACR,OAAQ,EACV,EACF,IAAK,GACH,MAAO,CACL,MAAO,EACP,SAAU,GACV,OAAQ,GACR,OAAQ,EACV,CACJ,CACF,ECrBMC,EAAgB,IAAyB,CAC7C,KAAM,CAAE,UAAAC,CAAU,EAAI,WAEtB,GAAIA,IAAc,OAAW,MAE7B,GAAA,KAAM,CAAE,cAAAC,EAAe,UAAAC,CAAU,EAAIF,EAErC,GAAIC,IAAkB,OAAW,CAC/B,MAAME,EAAQF,EAAc,OAAO,KAAK,CAAC,CAAE,MAAAE,CAAM,IAAMA,IAAU,UAAU,EAE3E,GAAIA,IAAU,QAAa,OAAOA,EAAM,OAAO,EAAI,GAAI,MACzD,EAAA,CAEA,MAAI,wBAAwB,KAAKD,CAAS,EAAU,EAE7C,CACT,ECxBME,EAAO,IAAqB,CAChC,MAAMN,EAAQC,EAAc,EAEtBM,EAAeR,EAAeC,CAAK,EAEzC,MAAO,CACL,OAAQO,EACR,OAAQA,CACV,CACF,ECZMC,EAAgBF,EAETG,EAASD,EAAc,EAAE,OACzBE,EAASF,EAAAA,EAAgB,OAEtC,IAAAG,EAAeH,EAAc"}